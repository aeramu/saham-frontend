{"version":3,"sources":["src/config/graphql/index.tsx","src/components/common/TextInput/index.js","src/screens/Home/components/Chart.tsx","src/screens/Home/components/Table.tsx","src/screens/Home/components/Valuation.tsx","src/screens/Home/index.tsx","App.tsx"],"names":["ApolloProvider","children","client","ApolloClient","uri","cache","InMemoryCache","props","View","style","styles","container","containerStyle","label","labelContainer","Text","inputContainer","TextInput","outlineWidth","StyleSheet","create","padding","borderWidth","borderColor","borderRadius","fontWeight","color","revenue","gross","operating","net","data","labels","years","slice","length","datasets","width","Dimensions","get","height","yAxisLabel","chartConfig","backgroundColor","backgroundGradientFrom","backgroundGradientTo","decimalPlaces","opacity","marginVertical","header","tableContainer","map","v","i","head","Row","rowContainer","cellContainer","rowHead","flex","alignSelf","flexDirection","alignItems","justifyContent","React","useState","value","setValue","eps","per","growth","handleEPSChange","handleGrowthChange","handlePERChange","useEffect","basicValue","Number","futureEPS","growthValue","Math","max","toFixed","placeholder","onChangeText","textInput","marginRight","flexWrap","symbol","setSymbol","setEPS","setPER","setGrowth","useQuery","STOCK","variables","loading","error","arr","stock","payload","incomeStatement","operatingProfit","res","push","average","toString","avg","message","text","toUpperCase","Valuation","num","isNaN","Chart","convertArrayStringToNumber","grossProfit","netProfit","Table","gql","array","sum","App","Home"],"mappings":"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","file":"static/js/app.64a509a2.chunk.js","sourcesContent":["import React from 'react'\nimport { ApolloClient, InMemoryCache, ApolloProvider as Provider } from '@apollo/client';\n\ninterface ApolloProviderProps{\n    children: any\n}\nexport const ApolloProvider = ({children}: ApolloProviderProps) => {\n    const client = new ApolloClient({\n        uri: \"https://saham-backend.herokuapp.com\",\n        cache: new InMemoryCache(),\n    })\n\n    return(\n        <Provider client={client}>\n            {children}\n        </Provider>\n    )\n}","import React from 'react'\nimport {TextInput, View, StyleSheet, Text} from 'react-native'\n\nexport default (props) => {\n    return(\n        <View style={[styles.container, props.containerStyle]}>\n            {props.label &&\n                <View style={[styles.labelContainer]}>\n                    <Text style={styles.label}>{props.label}</Text>\n                </View>\n            }\n            <View style={[styles.inputContainer]}>\n                <TextInput\n                    {...props}\n                    style={{outlineWidth:0}}\n                />\n            </View>\n        </View>\n    )\n}\n\nconst styles = StyleSheet.create({\n    container:{\n        \n    },\n    labelContainer:{\n        padding:5\n    },\n    inputContainer:{\n        borderWidth:0.5,\n        borderColor:'#ccc',\n        borderRadius:5,\n        padding:10\n    },\n    label:{\n        fontWeight:'bold',\n        color:'grey'\n    }\n})","import React from 'react'\nimport {Dimensions} from 'react-native'\nimport {LineChart, BarChart} from 'react-native-chart-kit'\n\ninterface ChartProps {\n    revenue: number[]\n    gross: number[]\n    operating: number[]\n    net: number[]\n}\n\nexport default ({revenue, gross, operating, net}: ChartProps) => {\n    return(\n        <LineChart\n            data={{\n            labels: years.slice(0,revenue.length),\n            datasets: [\n                {\n                    data: revenue,\n                },\n                {\n                    data: gross,\n                },\n                {\n                    data: operating,\n                },\n                {\n                    data: net,\n                },\n            ],\n            }}\n            width={Dimensions.get('window').width - 100} // from react-native\n            height={220}\n            yAxisLabel={'Rs'}\n            chartConfig={{\n                backgroundColor: 'white',\n                backgroundGradientFrom: 'white',\n                backgroundGradientTo: 'white',\n                decimalPlaces: 0, // optional, defaults to 2dp\n                color: (opacity = 0) => `rgba(100, 0, 0, ${opacity})`,\n                style: {\n                    borderRadius: 16,\n                },  \n            }}\n            style={{\n                marginVertical: 8,\n                borderRadius: 16,\n            }}\n        />\n    )\n}\n\nconst years = [\"2020\",\"2019\",\"2018\",\"2017\",\"2016\",\"2015\",\"2014\",\"2013\",\"2012\",\"2011\",\n                \"2010\",\"2009\",\"2008\",\"2007\",\"2006\",\"2005\",\"2004\",\"2003\",\"2002\",\"2001\"]","import React from 'react'\nimport {View, Text, StyleSheet} from 'react-native'\n\ninterface TableProps {\n    header: string[]\n    data: any[][]\n}\n\nexport default ({header, data}: TableProps) => {\n    return (\n        <View style={styles.tableContainer}>\n            {data.map((v, i) => {\n                return (\n                    <Row\n                        head={header[i]}\n                        data={v}\n                    />\n                )\n            })}\n        </View>\n    )\n}\n\ninterface RowProps {\n    head: any\n    data: any[]\n}\n\nconst Row = ({head, data}: RowProps) => {\n    return(\n        <View style={styles.rowContainer}>\n            <View style={styles.cellContainer}>\n                <Text style={styles.rowHead}>{head}</Text>\n            </View>\n            {data.map((i) => (\n                <View style={styles.cellContainer}>\n                    <Text>{i}</Text>\n                </View>\n            ))}\n        </View>\n    )\n}\n\nconst styles = StyleSheet.create({\n    rowContainer:{\n        flex:1,\n        alignSelf:'stretch',\n        flexDirection:'row',\n    },\n    cellContainer:{\n        flex:1,\n        alignSelf:'stretch',\n        padding:10,\n        borderColor:'grey',\n        borderWidth:1\n    },\n    tableContainer:{\n        alignSelf:'stretch',\n        alignItems:'center',\n        justifyContent:'center',\n    },\n    rowHead:{\n        fontWeight:'bold'\n    }\n})","import React from 'react'\nimport {View, Text, StyleSheet, ViewStyle} from 'react-native'\nimport TextInput from '../../../components/common/TextInput'\n\ninterface ValuationProps{\n    eps: string\n    per: string\n    growth: string\n    handleEPSChange: (text: string) => void\n    handlePERChange: (text: string) => void\n    handleGrowthChange: (text: string) => void\n    style?: ViewStyle\n}\n\nexport default (props: ValuationProps) => {\n    const [value, setValue] = React.useState(0)\n    const {eps, per, growth, handleEPSChange, handleGrowthChange, handlePERChange, style} = props\n    \n\n    React.useEffect(() => {\n        const basicValue = Number(eps)*Number(per)\n        let futureEPS = Number(eps)\n        for (let i = 0; i < 10; i++) {\n            futureEPS *= 1+(Number(growth)/100)\n        }\n        const growthValue = futureEPS/4*Number(per)\n        setValue(Math.max(basicValue, growthValue))\n    }, [eps, per, growth])\n\n    return(\n        <View style={style}>\n            <Text>Fair Price: {value.toFixed(2)}</Text>\n            <Text>Buyback Price: {(value*3/4).toFixed(2)}</Text>\n            <Text>Buy Price: {(value*2/3).toFixed(2)}</Text>\n            <Text>Discount Price: {(value/2).toFixed(2)}</Text>\n            <View style={styles.inputContainer}>\n                <TextInput\n                    label=\"EPS\"\n                    placeholder=\"EPS\"\n                    value={eps}\n                    onChangeText={handleEPSChange}\n                    containerStyle={styles.textInput}\n                />\n                <TextInput\n                    label=\"PER\"\n                    placeholder=\"PER\"\n                    value={per}\n                    onChangeText={handlePERChange}\n                    containerStyle={styles.textInput}\n                />\n                <TextInput\n                    label=\"Growth\"\n                    placeholder=\"Growth\"\n                    value={growth}\n                    onChangeText={handleGrowthChange}\n                    containerStyle={styles.textInput}\n                />\n            </View>\n        </View>\n    )\n}\n\nconst styles = StyleSheet.create({\n    textInput:{\n        marginRight:10\n    },\n    inputContainer:{\n        flexDirection:'row',\n        flexWrap:'wrap'\n    }\n})","import React from 'react'\nimport {View, StyleSheet, Text} from 'react-native'\nimport TextInput from '../../components/common/TextInput'\nimport {gql, useQuery} from '@apollo/client'\nimport Chart from './components/Chart'\nimport Table from './components/Table'\nimport Valuation from './components/Valuation'\n\nexport default () => {\n    const [symbol, setSymbol] = React.useState(\"BBCA\")\n    const [eps, setEPS] = React.useState(\"\")\n    const [per, setPER] = React.useState(\"\")\n    const [growth, setGrowth] = React.useState(\"\")\n\n    const {data, loading, error} = useQuery(STOCK, {\n        variables:{\n            symbol: symbol\n        }\n    })\n\n    const handleSymbolChanged = (text: string) => {\n        setSymbol(text.toUpperCase())\n    }\n\n    const handlePERChange = (text: string) => {\n        const num = Number(text)\n        if (!Number.isNaN(num)) {\n            setPER(text)\n        }\n    }\n\n    const handleEPSChange = (text: string) => {\n        const num = Number(text)\n        if (!Number.isNaN(num)) {\n            setEPS(text)\n        }\n    }\n\n    const handleGrowthChange = (text: string) => {\n        const num = Number(text)\n        if (!Number.isNaN(num)) {\n            setGrowth(text)\n        }\n    }\n\n    // growth\n    React.useEffect(() => {\n        if (loading) {\n            return\n        }\n        if (error) {\n            return\n        }\n        const arr = data.stock.payload.incomeStatement.operatingProfit\n        let res: number[] = []\n        for(let i = 0; i < arr.length-1; i++) {\n            res.push(((arr[i]-arr[i+1])/arr[i+1]*100))\n        }\n        setGrowth(average(res.slice(0, 5)).toFixed(2))\n    }, [data])\n\n    // eps\n    React.useEffect(() => {\n        if (loading) {\n            return\n        }\n        if (error) {\n            return\n        }\n        setEPS(data.stock.payload.incomeStatement.eps[0].toString())\n    }, [data])\n\n    // per\n    React.useEffect(() => {\n        if (loading) {\n            return\n        }\n        if (error) {\n            return\n        }\n        const arr: number[] = data.stock.payload.incomeStatement.per\n        let avg = 0\n        let length = 0\n        arr.map((v) => {\n            avg += v\n            v !== 0 ? length++ : {}\n        })\n        avg /= length\n        setPER(avg.toFixed(2))\n    }, [data])\n\n    if (error) {\n        return(\n            <View style={styles.container}>\n                <Text>{error.message}</Text>\n            </View>\n        )\n    }\n\n    return (\n        <View style={styles.container}>\n            <TextInput\n                label=\"Symbol\"\n                placeholder=\"Symbol\"\n                value={symbol}\n                onChangeText={handleSymbolChanged}\n            />\n            {\n                !loading && \n                <>\n                <Valuation\n                    eps={eps}\n                    per={per}\n                    growth={growth}\n                    handleEPSChange={handleEPSChange}\n                    handleGrowthChange={handleGrowthChange}\n                    handlePERChange={handlePERChange}\n                />\n                <Chart \n                    revenue={convertArrayStringToNumber(data.stock.payload.incomeStatement.revenue)}\n                    gross={convertArrayStringToNumber(data.stock.payload.incomeStatement.grossProfit)}\n                    operating={convertArrayStringToNumber(data.stock.payload.incomeStatement.operatingProfit)}\n                    net={convertArrayStringToNumber(data.stock.payload.incomeStatement.netProfit)}\n                />\n                <Table\n                    header={[\"EPS\", \"PER\"]}\n                    data={[data.stock.payload.incomeStatement.eps, data.stock.payload.incomeStatement.per]}\n                />\n                <Text>AVG 5Y Growth: {growth}%</Text>\n                </>\n            }\n        </View>\n    )\n}\n\nconst STOCK = gql`\n    query($symbol:String!){\n        stock(symbol:$symbol){\n            payload{\n                symbol\n                incomeStatement{\n                    revenue\n                    grossProfit\n                    operatingProfit\n                    netProfit\n                    eps\n                    per\n                }\n            }\n        }\n    }\n`\n\nconst styles = StyleSheet.create({\n    container:{\n        flex:1,\n        padding:25,\n        alignItems:'flex-start'\n    }\n})\n\nconst convertArrayStringToNumber = (array : string[]) => {\n    return array.map((i) => {\n        return Number(i)\n    })\n}\n\nconst average = (array: number[]) => {\n    var sum = 0\n    array.map((v) => {\n        sum += v\n    })\n    return sum/array.length\n}","import React from 'react'\n\nimport { ApolloProvider } from './src/config/graphql'\nimport Home from './src/screens/Home'\n\nexport default function App() {\n  return (\n    <ApolloProvider>\n      <Home/>\n    </ApolloProvider>\n  )\n}\n"],"sourceRoot":""}