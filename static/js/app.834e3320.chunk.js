(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{156:function(e,t,a){"use strict";a.d(t,"a",(function(){return $}));var n,r=a(0),o=a.n(r),l=a(207),i=a(208),c=a(206),u=function(e){var t=e.children,a=new l.a({uri:"https://saham-backend.herokuapp.com",cache:new i.a});return o.a.createElement(c.a,{client:a},t)},s=a(134),m=a.n(s),d=a(35),g=a.n(d),f=a(4),h=a(5),p=a(28),b=a(29),y=a(21),E=a(87),v=a(17),w=a.n(v),x=a(60),S=function(e){return o.a.createElement(f.a,{style:[k.container,e.containerStyle]},e.label&&o.a.createElement(f.a,{style:[k.labelContainer]},o.a.createElement(p.a,{style:k.label},e.label)),o.a.createElement(f.a,{style:[k.inputContainer]},o.a.createElement(x.a,w()({},e,{style:{outlineWidth:0}}))))},k=h.a.create({container:{},labelContainer:{padding:5},inputContainer:{borderWidth:.5,borderColor:"#ccc",borderRadius:5,padding:10},label:{fontWeight:"bold",color:"grey"}}),C=a(210),N=a(209),P=a(154),F=function(e){var t=e.revenue,a=e.gross,n=e.operating,r=e.net,l=e.labels;return o.a.createElement(P.a,{data:{labels:l,datasets:[{data:t,color:function(){return"blue"}},{data:a,color:function(){return"red"}},{data:n,color:function(){return"orange"}},{data:r,color:function(){return"green"}}]},width:50*l.length,height:220,chartConfig:{backgroundColor:"white",backgroundGradientFrom:"white",backgroundGradientTo:"white",decimalPlaces:0,color:function(){return"grey"},labelColor:function(){return"black"},strokeWidth:2},formatYLabel:function(e){return e.length>13?e.slice(0,e.length-12)+"T":e.length>10?e.slice(0,e.length-9)+"B":e.length>7?e.slice(0,e.length-6)+"M":e.length>4?e.slice(0,e.length-3)+"K":e},style:{marginVertical:8}})},T=function(e){var t=e.name,a=e.value,n=e.style;return o.a.createElement(f.a,{style:n},o.a.createElement(f.a,{style:R.container},o.a.createElement(p.a,{style:R.name},t),o.a.createElement(p.a,{style:R.value},a)),o.a.createElement(f.a,{style:R.divider}))},R=h.a.create({container:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:5,paddingVertical:15},value:{fontWeight:"bold"},name:{fontWeight:"bold",color:"grey"},divider:{height:1,alignSelf:"stretch",backgroundColor:"#ccc"}}),z=function(e){var t=o.a.useState(0),a=g()(t,2),n=a[0],r=a[1],l=e.eps,i=e.per,c=e.growth,u=e.style;return o.a.useEffect((function(){for(var e=Number(l)*Number(i),t=Number(l),a=0;a<10;a++)t*=1+Number(c)/100;var n=t/4*Number(i);r(Math.max(e,n))}),[l,i,c]),o.a.createElement(f.a,{style:[I.container,u]},o.a.createElement(T,{name:"Fair Price",value:n.toFixed(2)}),o.a.createElement(T,{name:"Margin 25%",value:(75*n/100).toFixed(2)}),o.a.createElement(T,{name:"Margin 33%",value:(66*n/100).toFixed(2)}),o.a.createElement(T,{name:"Margin 40%",value:(60*n/10).toFixed(2)}),o.a.createElement(T,{name:"Margin 50%",value:(50*n/100).toFixed(2)}))},I=h.a.create({container:{}}),B=a(88),W=function(e){var t=e.title,a=e.style,n=o.a.useState(e.initialToggle||!1),r=g()(n,2),l=r[0],i=r[1];return o.a.createElement(B.a,{onPress:function(){e.toggle&&e.toggle(!l),i(!l)},style:[a,M.container],activeOpacity:1},o.a.createElement(f.a,{style:[a,M.box,{backgroundColor:l?"#999":"#ddd"}]},o.a.createElement(p.a,{style:{color:l?"white":"black"}},t)))},M=h.a.create({container:{paddingHorizontal:0,paddingVertical:0,overflow:"hidden"},box:{margin:0}}),G=function(e){var t=e.data,a=e.suffix,n=e.initialState,r=e.setResult,l=o.a.useState(n||[]),i=g()(l,2),c=i[0],u=i[1];return o.a.useEffect((function(){var e=0,a=0;t.map((function(t,n){c[n]&&(e+=t,a++)})),r&&r(e/a)}),[t,c]),o.a.createElement(f.a,{style:V.container},t.map((function(e,t){return o.a.createElement(W,{title:e.toFixed(1)+(a||""),style:V.toggleBox,toggle:function(e){!function(e,t){var a=[];c.map((function(e){a.push(e)})),a[e]=t,u(a)}(t,e)},initialToggle:c[t]})})))},V=h.a.create({container:{flexDirection:"row"},toggleBox:{paddingHorizontal:20,paddingVertical:10,alignItems:"center",borderRadius:5,width:80,margin:5}}),j=function(){var e=o.a.useState("BBCA"),t=g()(e,2),a=t[0],n=t[1],r=o.a.useState("0"),l=g()(r,2),i=l[0],c=l[1],u=o.a.useState("0"),s=g()(u,2),m=s[0],d=s[1],h=o.a.useState("0"),v=g()(h,2),w=v[0],x=v[1],k=o.a.useState([0]),N=g()(k,2),P=N[0],T=N[1],R=Object(C.a)(H,{variables:{symbol:a}}),I=R.data,B=R.loading,W=R.error;return o.a.useEffect((function(){if(!(B||W||I.stock.error.isError)){for(var e=I.stock.payload.incomeStatement.operatingProfit,t=[],a=0;a<e.length-1;a++)t.push((e[a]-e[a+1])/e[a+1]*100);T(t)}}),[I]),W?o.a.createElement(f.a,{style:O.container},o.a.createElement(p.a,null,W.message)):o.a.createElement(f.a,{style:O.container},o.a.createElement(S,{label:"Symbol",placeholder:"Symbol",value:a,onChangeText:function(e){n(e.toUpperCase())},containerStyle:O.symbolInput}),B?o.a.createElement(E.a,{style:O.loading,size:30}):o.a.createElement(f.a,{style:O.dataContainer},o.a.createElement(S,{label:"EPS",placeholder:"EPS",value:i,onChangeText:function(e){"-"==e&&c(e);var t=Number(e);Number.isNaN(t)||c(e)},containerStyle:O.textInput}),o.a.createElement(b.a,{horizontal:!0,style:{width:y.a.get("window").width-50}},o.a.createElement(G,{data:I.stock.payload.incomeStatement.eps,setResult:function(e){return c(e.toFixed(2))},initialState:[!0]})),o.a.createElement(S,{label:"PER",placeholder:"PER",value:m,onChangeText:function(e){"-"==e&&d(e);var t=Number(e);Number.isNaN(t)||d(e)},containerStyle:O.textInput}),o.a.createElement(b.a,{horizontal:!0,style:{width:y.a.get("window").width-50}},o.a.createElement(G,{data:I.stock.payload.incomeStatement.per,suffix:"x",setResult:function(e){return d(e.toFixed(2))},initialState:[!0,!0,!0,!0,!0,!0,!0,!0,!0,!0]})),o.a.createElement(S,{label:"Growth",placeholder:"Growth",value:w,onChangeText:function(e){"-"==e&&x(e);var t=Number(e);Number.isNaN(t)||x(e)},containerStyle:O.textInput}),o.a.createElement(b.a,{horizontal:!0,style:{width:y.a.get("window").width-50}},o.a.createElement(G,{data:P,suffix:"%",setResult:function(e){return x(e.toFixed(2))},initialState:[!0,!0,!0,!0,!0]})),o.a.createElement(z,{eps:i,per:m,growth:w,style:O.valuation}),o.a.createElement(b.a,{horizontal:!0,style:{width:y.a.get("window").width-50}},o.a.createElement(F,{labels:D.slice(0,I.stock.payload.incomeStatement.revenue.length),revenue:J(I.stock.payload.incomeStatement.revenue),gross:J(I.stock.payload.incomeStatement.grossProfit),operating:J(I.stock.payload.incomeStatement.operatingProfit),net:J(I.stock.payload.incomeStatement.netProfit)}))))},D=["2020","2019","2018","2017","2016","2015","2014","2013","2012","2011","2010","2009","2008","2007","2006","2005","2004","2003","2002","2001"],H=Object(N.a)(n||(n=m()(["\n    query($symbol:String!){\n        stock(symbol:$symbol){\n            payload{\n                symbol\n                incomeStatement{\n                    revenue\n                    grossProfit\n                    operatingProfit\n                    netProfit\n                    eps\n                    per\n                }\n            }\n            error{\n                isError\n            }\n        }\n    }\n"]))),O=h.a.create({container:{flex:1,padding:25},inputContainer:{flexDirection:"row",flexWrap:"wrap",marginTop:5,marginBottom:5},dataContainer:{},textInput:{marginRight:10,alignSelf:"flex-start"},symbolInput:{alignSelf:"flex-start"},valuation:{marginBottom:10,width:y.a.get("window").width>500?400:"100%"},loading:{marginTop:30}}),J=function(e){return e.map((function(e){return Number(e)}))};function $(){return o.a.createElement(u,null,o.a.createElement(j,null))}},160:function(e,t,a){e.exports=a(194)}},[[160,1,2]]]);
//# sourceMappingURL=app.834e3320.chunk.js.map